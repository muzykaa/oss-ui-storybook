import type { Position } from '../type/etc/position';

export function getElementPosition(el: HTMLElement): Position {
  const scrollY = window.scrollY ?? 0;
  const scrollX = window.scrollX ?? 0;
  const rect = el.getBoundingClientRect();
  return {
    top: rect.top + scrollY,
    left: rect.left + scrollX,
  };
}

export function scrollTo(top: number): void {
  window.scrollTo({
    top: top - 200 + window.scrollY,
    behavior: 'smooth',
  });
}

export function calculateElementCenter(el: HTMLElement): Position {
  const rect = el.getBoundingClientRect();
  const pos = getElementPosition(el);

  return {
    top: +pos.top + Math.round(rect.height / 2),
    left: +pos.left + Math.round(rect.width / 2),
  };
}
