import { Sorting } from '../enum/Sorting';
import type { SortingState } from '../type/etc/SortingState';
import type { Option } from '../type/form/Option';

export function listKeygen(item: unknown): string {
  return (item as { id: string }).id;
}

export function selectSorting(sorting: SortingState, key: string): Sorting {
  return (sorting.key === key ? sorting.direction : Sorting.BOTH) as Sorting;
}

export function labels(options: Option[]): string {
  return options.map((option: Option) => option.label).join(', ');
}

export function getScrollbarWidth(): number {
  return window.innerWidth - document.documentElement.clientWidth;
}

export function sortOptions(options: Option[]): Option[] {
  return options.sort((o1, o2) => {
    if (o1.label === o2.label) {
      return 0;
    }

    return o1.label > o2.label ? 1 : -1;
  });
}
