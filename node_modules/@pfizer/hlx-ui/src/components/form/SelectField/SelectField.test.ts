import { flushPromises, mount } from '@vue/test-utils';
import SelectField from './SelectField.vue';
import { describe } from 'vitest';

describe('Test for SelectField component', () => {
  test('SelectField component', async () => {
    expect(SelectField).toBeTruthy();
    const initialValue = 'test_value';

    const wrapper = mount(SelectField, {
      props: {
        name: 'select',
        modelValue: initialValue,
        options: [
          {code: '1', label: '1'},
          {code: initialValue, label: initialValue}
        ],
      },
    });

    await flushPromises();

    const input = wrapper.get('.vs__selected-options');
    expect(input.text()).toContain(initialValue)
  });
});
