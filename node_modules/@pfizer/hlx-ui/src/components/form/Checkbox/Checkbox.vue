<template>
  <FieldWrapper
    :label="label"
    :error="error"
    :info="info"
    :required="required"
    :class-name="`radio-field ${className || ''} ` + `${disabled ? 'disabled' : ''} `"
    component="div"
  >
    <label class="checkbox-wrapper">
      <input
        :disabled="disabled"
        type="checkbox"
        class="checkbox-wrapper__checkbox"
        :checked="modelValue"
        @change="changeHandler"
      />
      <span class="checkbox-wrapper__checkmark"></span>
    </label>
  </FieldWrapper>
</template>

<script lang="ts" setup>
import FieldWrapper from '../FieldWrapper/FieldWrapper.vue';

interface Props {
  name: string;
  disabled?: boolean;
  modelValue?: boolean;
  label?: string;
  error?: string;
  info?: string;
  className?: string;
  required?: boolean;
}
const props = defineProps<Props>();
const emit = defineEmits(['update:modelValue']);
const changeHandler = (event: unknown) => {
  const val = event instanceof Event ? (event.target as HTMLInputElement).checked : event;
  emit('update:modelValue', val, props.name);
};
</script>
