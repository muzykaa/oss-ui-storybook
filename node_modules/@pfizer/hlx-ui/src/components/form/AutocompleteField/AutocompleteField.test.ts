import { mount, flushPromises } from '@vue/test-utils';
import AutocompleteField from './AutocompleteField.vue';
import { describe } from 'vitest';

describe('Test for AutocompleteField component', () => {
  test('AutocompleteField component', async () => {
    expect(AutocompleteField).toBeTruthy();
    const initialValue = '1';

    const wrapper = mount(AutocompleteField, {
      props: {
        options: [
          {code: '1', label: '1'},
          {code: '2', label: '2'},
        ],
        modelValue: initialValue,
        name: 'test',
      },
    });    
    await flushPromises();

    const input = wrapper.get('input');
    expect((input.element as HTMLInputElement).value).toEqual(initialValue);
  });
});
