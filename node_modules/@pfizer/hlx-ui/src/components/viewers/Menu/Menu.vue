<template>
  <Flex
    class-name="menu"
    :direction="variant === 'vertical' ? 'column' : undefined"
    :align-items="variant === 'vertical' ? 'flex-start' : 'center'"
    :m-align-items="variant === 'vertical' ? 'flex-start' : 'center'"
  >
    <template v-for="(item, index) in items" :key="item.key">
      <Link
        :url="item.disabled ? '#' : `${item.url}`"
        :class="['button invert context-menu__item', { disabled: item.disabled }]"
      >
        <Icon v-if="item.icon" :name="item.icon" />
        {{ item.title }}
      </Link>

      <template v-if="index < items.length - 1 && variant === 'breadcrumbs'">
        <slot name="divider">/</slot>
      </template>
    </template>
  </Flex>
</template>

<script lang="ts" setup>
import type { MenuItem } from '@/type/etc/MenuItem';
import Flex from '../../layout/Flex';
import Icon from '../Icon';
import Link from '../Link';

interface Props {
  items: MenuItem[];
  variant?: 'default' | 'vertical' | 'breadcrumbs';
}

withDefaults(defineProps<Props>(), {
  variant: 'default',
});
</script>

<style lang="scss">
@import 'Menu';
</style>
