import { inject, provide } from 'vue';

type Translator = (s: string) => string;

const PROVIDER_KEY = 'translator';

export function useTranslator() {
  const defaultTrans = (str: string) => str;

  return {
    setupTranslator: (translator: Translator) => {
      provide(PROVIDER_KEY, translator);
    },
    trans: inject<Translator>(PROVIDER_KEY) || defaultTrans,
  };
}

export default useTranslator;
