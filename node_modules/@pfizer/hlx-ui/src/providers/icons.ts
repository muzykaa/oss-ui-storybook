import { inject, provide } from 'vue';

type IconConfig = {
  font: string;
  prefix: string;
  iconMap: Record<string, string>;
};

const PROVIDER_KEY = 'icon-font-config';

export function useIcons() {
  const defaultIconConfig: IconConfig = {
    font: '',
    prefix: '',
    iconMap: {},
  };

  return {
    setupIconConfig: (iconConfig: IconConfig) => {
      provide(PROVIDER_KEY, iconConfig);
    },
    iconConfig: inject<IconConfig>(PROVIDER_KEY) || defaultIconConfig,
  };
}

export default useIcons;
