import { inject, provide } from 'vue';

type NavConfig = {
  link: {
    component: string;
    propsMap: {
      url: string;
    };
  };
};

const PROVIDER_KEY = 'navigation';

export function useNavigation() {
  const defaultNavConfig = {
    link: {
      component: 'a',
      propsMap: {
        url: 'href',
      },
    },
  };

  return {
    setupNavConfig: (navConfig: NavConfig) => {
      provide(PROVIDER_KEY, navConfig);
    },
    navConfig: inject<NavConfig>(PROVIDER_KEY) || defaultNavConfig,
  };
}

export default useNavigation;
