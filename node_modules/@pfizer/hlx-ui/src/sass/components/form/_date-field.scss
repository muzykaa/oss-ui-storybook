@use 'sass:math';
@import '@vuepic/vue-datepicker/dist/main.css';


.date-field {
  .select-field__preview {
    text-transform: uppercase;
  }

  &__ref {
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1;
  }

  .select-field__header {
    border-color: $color-link;
    border-width: 2px;
    height: 42px;
    padding: 0 12px;

    .svg-image {
      fill: $color-link;
    }
  }

  &.open {
    .dp__input {
      border-color: $color-link;
    }

    .form-field__label {
      color: $color-link;
    }

    .dp__input_icon .svg-image {
      fill: $color-link;
    }
  }

  .dp__input {
    @include input;

    color: $color-disabled;

    &::placeholder {
      color: $color-disabled;
      opacity: 1;
    }
  }

  .dp__calendar_header_separator,
  .dp__arrow_top,
  .dp__arrow_bottom {
    display: none;
  }

  .dp__input_icon {
    left: unset;
    right: $spacing-basic * 2.5;
    display: flex;
    align-items: center;
    justify-content: center;

    .svg-image {
      @include icon-size;

      fill: $color-disabled;

      &:focus,
      &:active {
        outline: none;
        box-shadow: none;
      }
    }
  }

  .svg-image {
    @include icon-size;
  }

  .vs__dropdown-menu {
    min-width: unset;
    width: 100%;
  }

  .dp__calendar {
    width: 100%;
  }

  .dp__cell_inner.dp__cell_offset {
    background-color: $color-table-row;
  }

  .dp__cell_inner.dp__today {
    border: none;
    background-color: $color-success-light;
  }

  .dp__calendar_item {
    display: flex;
    justify-content: center;
  }

  .dp__month_year_row {
    display: flex;
    justify-content: space-between;
    margin-bottom: calc(#{$spacing-basic} * 2) ;
    height: 42px;

    .month {
      margin-right: math.div($spacing-basic, 2);
    }

    .year {
      margin-right: $spacing-basic;
    }

    .prev {
      margin-right: $spacing-basic;
    }

    .date-field__select {
      height: 100%;
      width: 8rem;
    }
  }

  .dp__instance_calendar {
    box-shadow: $box-shadow-date;
  }

  .dp--tp-wrap {
    max-width: 100%;
  }

  .dp__calendar_wrap {
    @include plain-text;
  }

  .dp__calendar_header {
    width: 100%;

    .dp__calendar_header_item {
      font-weight: 400;
      justify-content: center;
      align-items: center;
      font-size: .75rem;
      padding: 0;
      display: flex;
      margin: 0 5px;
    }
  }

  .dp__calendar_header_item,
  .dp__cell_inner {
    @include icon-size;

    background-color: $color-btn-hover;
    border-radius: 50%;
    color: $color-link;
    font-size: .75rem;
    white-space: nowrap;
  }

  .dp__range_start,
  .dp__range_between,
  .dp__date_hover_end:hover,
  .dp__range_end,
  .dp__date_hover:hover {
    background-color: $color-link;
    color: $color-main-bg;
  }

  &.invalid {
    .dp__input {
      border-color: $color-danger;
    }

    .svg-image {
      fill: $color-danger;
    }
  }

  .dp__menu {
    position: absolute;
  }
}
