import { Meta } from '@storybook/blocks'

export const RightArrow = () => <svg
  viewBox="0 0 14 14"
  width="8px"
  height="14px"
  style={{
    marginLeft: '4px',
    display: 'inline-block',
    shapeRendering: 'inherit',
    verticalAlign: 'middle',
    fill: 'currentColor',
    'path fill': 'currentColor'
  }}
>
  <path d="m11.1 7.35-5.5 5.5a.5.5 0 0 1-.7-.7L10.04 7 4.9 1.85a.5.5 0 1 1 .7-.7l5.5 5.5c.2.2.2.5 0 .7Z"/>
</svg>

<Meta title="Integrations/Composables"/>

<div className="sb-container">

  <div className="sb-section ">
    # Composables

      <p>
          Composables is a separate package for sharing use composables logic and utility functions.
      </p>

    ## Form state composable
      <p>
          Using for form state management, validation etc.
      </p>
      <p>
          Here is example of usage.
      </p>

      ```
      // All datasets are dummy

      const form = useForm<PayloadType>({
        initialValues: {
            name: '',
            email: '',
        },
        validationSchema: getValidationSchema(),
        onSubmit: async (newValue: unknown) => {
          try {
              await callSomeService(newValue)
          } catch (e) {
            if (!(e instanceof ValidationError) || !e.errors) {
              return;
            }

              form.setResponseErrors(e.errors);
            }
          },
      });
      ```

    ## List composable
      <p>
          Using for lists management, filter integration, sorting, pagination.
      </p>

      <p>
          Here is example of usage.
      </p>

      ```
      // All datasets are dummy

      const list = useList<PayloadType>({
          defaultValue: {
            query: string;
          },
          getInitialValue: formatDefaultQuery, // function formatter for query
          onSubmit: async (value: unknown) => {
            await callSomeService(value);
          },
      });
      ```

  </div>
</div>


<style>
  {`
  .grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    align-items: center;
    justify-items: center;
    gap: 1rem;
  }

  #icons {
    grid-column: 1/4;
    justify-self: start;
  }

  span {
    font-size: 2rem;
  `}
</style>
